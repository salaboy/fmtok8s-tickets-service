
Showing logs for build [32msalaboy-tickets-service-master-sft48-29[0m stage [32mfrom-build-pack[0m and container [32mcredential-initializer[0m
{"level":"info","ts":1603271294.2575605,"caller":"creds-init/main.go:44","msg":"Credentials initialized."}

Showing logs for build [32msalaboy-tickets-service-master-sft48-29[0m stage [32mfrom-build-pack[0m and container [32mworking-dir-initializer[0m

Showing logs for build [32msalaboy-tickets-service-master-sft48-29[0m stage [32mfrom-build-pack[0m and container [32mplace-tools[0m

Showing logs for build [32msalaboy-tickets-service-master-sft48-29[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-salaboy-tickets-service-master-sft48-jdrnm[0m
{"level":"info","ts":1603271303.1916091,"caller":"git/git.go:105","msg":"Successfully cloned https://github.com/*******/tickets-service.git @ v0.0.34 in path /workspace/source"}
{"level":"warn","ts":1603271303.192031,"caller":"git/git.go:152","msg":"Unexpected error: creating symlink: symlink /tekton/home/.ssh /root/.ssh: file exists"}
{"level":"info","ts":1603271303.2917325,"caller":"git/git.go:133","msg":"Successfully initialized and updated submodules in path /workspace/source"}

Showing logs for build [32msalaboy-tickets-service-master-sft48-29[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-builder-home[0m

Showing logs for build [32msalaboy-tickets-service-master-sft48-29[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:9168aa0d84fd6abfc29bbe8f77f93a4ef5a708a8
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32msalaboy-tickets-service-master-sft48-29[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32msalaboy-tickets-service-master-sft48-29[0m stage [32mfrom-build-pack[0m and container [32mstep-build-mvn-deploy[0m
Picked up _JAVA_OPTIONS: -XX:+UnlockExperimentalVMOptions -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m
[INFO] Scanning for projects...
[INFO] 
[INFO] ----------------< com.*******.tickets:tickets-service >-----------------
[INFO] Building tickets-service 0.0.34
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ tickets-service ---
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ tickets-service ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 0 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ tickets-service ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 3 source files to /workspace/source/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ tickets-service ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /workspace/source/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ tickets-service ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /workspace/source/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:3.0.0-M1:test (default-test) @ tickets-service ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.*******.tickets.service.TicketsServiceApplicationTests
09:09:04.047 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
09:09:04.070 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
09:09:04.167 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.*******.tickets.service.TicketsServiceApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
09:09:04.214 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.*******.tickets.service.TicketsServiceApplicationTests], using SpringBootContextLoader
09:09:04.235 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.*******.tickets.service.TicketsServiceApplicationTests]: class path resource [com/*******/tickets/service/TicketsServiceApplicationTests-context.xml] does not exist
09:09:04.241 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.*******.tickets.service.TicketsServiceApplicationTests]: class path resource [com/*******/tickets/service/TicketsServiceApplicationTestsContext.groovy] does not exist
09:09:04.247 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.*******.tickets.service.TicketsServiceApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
09:09:04.254 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.*******.tickets.service.TicketsServiceApplicationTests]: TicketsServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09:09:04.389 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.*******.tickets.service.TicketsServiceApplicationTests]
09:09:04.721 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/workspace/source/target/classes/com/*******/tickets/service/TicketsServiceApplication.class]
09:09:04.737 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.*******.tickets.service.TicketsServiceApplication for test class com.*******.tickets.service.TicketsServiceApplicationTests
09:09:05.000 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.*******.tickets.service.TicketsServiceApplicationTests]: using defaults.
09:09:05.013 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09:09:05.056 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [javax/servlet/ServletContext]
09:09:05.066 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/TransactionDefinition]
09:09:05.077 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/interceptor/TransactionAttribute]
09:09:05.084 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@41dd05a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@613a8ee1, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@178213b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7103cb56, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b765a2c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e8e8225, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6ebf0f36, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@18920cc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2807bdeb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@72c28d64]
09:09:05.106 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@674bd420 testClass = TicketsServiceApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [ReactiveWebMergedContextConfiguration@2b0f373b testClass = TicketsServiceApplicationTests, locations = '{}', classes = '{class com.*******.tickets.service.TicketsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@f58853c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@700fb871, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3bcd05cb, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@60db1c0e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@78fa769e], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]], class annotated with @DirtiesContext [false] with mode [null].
09:09:05.175 [main] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@674bd420 testClass = TicketsServiceApplicationTests, testInstance = com.*******.tickets.service.TicketsServiceApplicationTests@37052337, testMethod = [null], testException = [null], mergedContextConfiguration = [ReactiveWebMergedContextConfiguration@2b0f373b testClass = TicketsServiceApplicationTests, locations = '{}', classes = '{class com.*******.tickets.service.TicketsServiceApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@f58853c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@700fb871, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3bcd05cb, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@60db1c0e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@78fa769e], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map[[empty]]]].
09:09:05.285 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=-1}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-10-21 09:09:06.026  INFO 68 --- [           main] c.s.t.s.TicketsServiceApplicationTests   : Starting TicketsServiceApplicationTests on *******-tickets-service-master-sft48-29-from-build-pack-d-fp7fp with PID 68 (started by root in /workspace/source)
2020-10-21 09:09:06.035  INFO 68 --- [           main] c.s.t.s.TicketsServiceApplicationTests   : No active profile set, falling back to default profiles: default
2020-10-21 09:09:09.481  INFO 68 --- [           main] c.s.t.service.TicketsServiceApplication  : > PaymentChecker Init!
2020-10-21 09:09:09.510  INFO 68 --- [ paymentChecker] c.s.t.service.TicketsServiceApplication  : The Payment Checker queue is empty!
2020-10-21 09:09:12.720  INFO 68 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-10-21 09:09:14.617  INFO 68 --- [           main] c.s.t.s.TicketsServiceApplicationTests   : Started TicketsServiceApplicationTests in 9.301 seconds (JVM running for 13.237)
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 11.816 s - in com.*******.tickets.service.TicketsServiceApplicationTests
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] 
[INFO] --- maven-jar-plugin:3.1.2:jar (default-jar) @ tickets-service ---
[INFO] Building jar: /workspace/source/target/tickets-service-0.0.34.jar
[INFO] 
[INFO] --- spring-boot-maven-plugin:2.2.6.RELEASE:repackage (repackage) @ tickets-service ---
[INFO] Replacing main artifact with repackaged archive
[INFO] 
[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ tickets-service ---
[INFO] Installing /workspace/source/target/tickets-service-0.0.34.jar to /home/jenkins/.mvnrepository/com/*******/tickets/tickets-service/0.0.34/tickets-service-0.0.34.jar
[INFO] Installing /workspace/source/pom.xml to /home/jenkins/.mvnrepository/com/*******/tickets/tickets-service/0.0.34/tickets-service-0.0.34.pom
[INFO] 
[INFO] --- maven-deploy-plugin:2.8.2:deploy (default-deploy) @ tickets-service ---
[INFO] Using alternate deployment repository local-nexus::default::http://nexus/repository/maven-releases/
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  55.703 s
[INFO] Finished at: 2020-10-21T09:09:25Z
[INFO] ------------------------------------------------------------------------

Showing logs for build [32msalaboy-tickets-service-master-sft48-29[0m stage [32mfrom-build-pack[0m and container [32mstep-build-skaffold-version[0m
v1.0.1

Showing logs for build [32msalaboy-tickets-service-master-sft48-29[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
E1021 09:09:27.804060       8 aws_credentials.go:77] while getting AWS credentials NoCredentialProviders: no valid providers in chain. Deprecated.
	For verbose messaging see aws.Config.CredentialsChainVerboseErrors
[36mINFO[0m[0001] Using dockerignore file: /workspace/source/.dockerignore 
[36mINFO[0m[0001] Retrieving image manifest openjdk:11-jre-slim 
E1021 09:09:28.255866       8 metadata.go:154] while reading 'google-dockercfg' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg
E1021 09:09:28.259214       8 metadata.go:166] while reading 'google-dockercfg-url' metadata: http status code: 404 while fetching url http://metadata.google.internal./computeMetadata/v1/instance/attributes/google-dockercfg-url
[36mINFO[0m[0002] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0003] Built cross stage deps: map[]                
[36mINFO[0m[0003] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0004] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0005] Executing 0 build triggers                   
[36mINFO[0m[0005] cmd: EXPOSE                                  
[36mINFO[0m[0005] Adding exposed port: 8080/tcp                
[36mINFO[0m[0005] Resolving srcs [pom.xml target/lib*]...      
[36mINFO[0m[0005] Checking for cached layer gcr.io/camunda-researchanddevelopment/cache:de1e816ee1eead764148d3c0fdc98db80e2530c2746d51da573da02695f1b453... 
[36mINFO[0m[0006] No cached layer found for cmd COPY pom.xml target/lib* /opt/lib/ 
[36mINFO[0m[0006] Resolving srcs [target/*.jar]...             
[36mINFO[0m[0006] Unpacking rootfs as cmd COPY pom.xml target/lib* /opt/lib/ requires it. 
[36mINFO[0m[0010] ENV PORT 8080                                
[36mINFO[0m[0010] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0010] ENV CLASSPATH /opt/lib                       
[36mINFO[0m[0010] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0010] EXPOSE 8080                                  
[36mINFO[0m[0010] cmd: EXPOSE                                  
[36mINFO[0m[0010] Adding exposed port: 8080/tcp                
[36mINFO[0m[0010] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0010] Resolving srcs [pom.xml target/lib*]...      
[36mINFO[0m[0010] COPY pom.xml target/lib* /opt/lib/           
[36mINFO[0m[0010] Resolving srcs [pom.xml target/lib*]...      
[36mINFO[0m[0010] Resolving 1 paths                            
[36mINFO[0m[0010] Taking snapshot of files...                  
[36mINFO[0m[0010] Pushing layer gcr.io/camunda-researchanddevelopment/cache:de1e816ee1eead764148d3c0fdc98db80e2530c2746d51da573da02695f1b453 to cache now 
[36mINFO[0m[0010] Resolving srcs [target/*.jar]...             
[36mINFO[0m[0010] COPY target/*.jar /opt/app.jar               
[36mINFO[0m[0010] Resolving srcs [target/*.jar]...             
[36mINFO[0m[0010] Resolving 1 paths                            
[36mINFO[0m[0010] Taking snapshot of files...                  
[36mINFO[0m[0011] Pushing layer gcr.io/camunda-researchanddevelopment/cache:60c3f327a2c240e232f096977d2f267c7d5766c49ee9b2edae49dbf0a46ebe2e to cache now 
[36mINFO[0m[0011] WORKDIR /opt                                 
[36mINFO[0m[0011] cmd: workdir                                 
[36mINFO[0m[0011] Changed working directory to /opt            
[36mINFO[0m[0011] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0011] CMD ["java", "-jar", "app.jar"]              
[36mINFO[0m[0011] No files changed in this command, skipping snapshotting. 

Showing logs for build [32msalaboy-tickets-service-master-sft48-29[0m stage [32mfrom-build-pack[0m and container [32mstep-build-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32msalaboy-tickets-service-master-sft48-29[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-changelog[0m
/bin/sh: line 0: cd: /workspace/source/charts/tickets-service: No such file or directory
[31m
Pipeline failed on stage 'from-build-pack' : container 'step-promote-changelog'. The execution of the pipeline has stopped.[0m
